<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> zæ•°ç»„ ~ æ‰å¹³åŒ–nç»´æ•°ç»„</title>
    <style>
        *{
            padding: 0; margin: 0; font-family: Arial, Helvetica, sans-serif;
        }
        #root{
            width: 800px; margin: 0 auto;
        }
        .sec .title{
            font-weight: normal; margin: 10px 0 ;
        }
        .sec .code{
            background-color: #333; color:#ccc; padding-top: 10px; font-size: 12px; line-height: 1.8em; letter-spacing:1px;
        }
    </style>
</head>
<body>
    
    <div id="root">
        <section class="sec">
            <h3 class="title">
                Array.flat(n)æ˜¯ES10æ‰å¹³æ•°ç»„çš„api,nè¡¨ç¤ºç»´åº¦,nå€¼ä¸ºInfinityæ—¶ç»´åº¦ä¸ºæ— é™å¤§
            </h3>
            <pre class="code">
            {
                console.log(`æ•°ç»„æ‰å¹³åŒ– ï¼š `, [1,[2,3]].flat(2))  // [1,2,3]
                console.log(`æ•°ç»„æ‰å¹³åŒ– ï¼š `, [10,[20,10,[40,20]]].flat(3))  // [10, 20, 10, 40, 20]
                console.log(`æ•°ç»„æ‰å¹³åŒ– ï¼š `, [10,[20,13,[14,35]]].toString() )  //  10,20,13,14,35
            }        
            </pre>
        </section>

        <section class="sec">
            <h3 class="title">è®¡ç®—æ•°ç»„çš„å±‚çº§å¹¶å°†å…¶æ‹‰å¹³</h3>
            <pre class="code">
                æ‰“å¼€æ§åˆ¶å°çœ‹ä»£ç 
            </pre>
        </section>

        <section class="sec">
            <h3 class="title">æ£€æŸ¥æ•°ç»„çš„æŸä¸€é¡¹æ˜¯å¦ç¬¦åˆæ¡ä»¶ [].every()</h3>
            <pre class="code">
            {
                let arrs = [1,5,"title","div",100]
                console.log("æ£€æµ‹æ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯å¦éƒ½ä¸ºæ•°å­—ï¼š ", arrs.every(item=>{return typeof item === "number"})) // false
                let arrs1 = ["jinshi","li","title","div","history"]
                console.log("æ£€æµ‹æ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯å¦éƒ½ä¸ºå­—ç¬¦ä¸²ï¼š ", arrs1.every(item=>{return typeof item === "string"})) // true
            }
            </pre>
        </section>
    </div>




    <script>
        // Array.flat(n)æ˜¯ES10æ‰å¹³æ•°ç»„çš„api,nè¡¨ç¤ºç»´åº¦,nå€¼ä¸ºInfinityæ—¶ç»´åº¦ä¸ºæ— é™å¤§
        {
            console.group(`æ•°ç»„æ‹‰å¹³`)
            console.log(`æ•°ç»„æ‰å¹³åŒ– ï¼š `, [1,[2,3]].flat(2))  // [1,2,3]
            console.log(`æ•°ç»„æ‰å¹³åŒ– ï¼š `, [10,[20,10,[40,20]]].flat(3))  // [10, 20, 10, 40, 20]
            console.log(`æ•°ç»„æ‰å¹³åŒ– ï¼š `, [10,[20,13,[14,35]]].toString() )  //  10,20,13,14,35
            console.groupEnd()
        }

        // æ±‚ä¸€ä¸ªå¤šç»´æ•°ç»„çš„ç»´åº¦æ•°
        {
            var num = 1 ;
            // function dimension(arrObj){
            //     if(!arrObj || !(arrObj instanceof Array) ){
            //         console.log(`æ•°æ®ä¸å­˜åœ¨ï¼Œæˆ–è€…è¿™ä¸æ˜¯ä¸€ä¸ªæ•°ç»„!!!`)
            //         return;
            //     }
            //     console.log(`ç»§ç»­å‡½æ•°`,arrObj.length)
            //     for (let i = 0; i < arrObj.length; i++) {
            //         if(arrObj[i] instanceof Array){
            //             num ++;
            //             arrObj = arrObj[i]
            //             dimension(arrObj)
            //         } 
            //     }  
            //     return num;
            // }

            function dimension(arr){
                for (i=0;i<arr.length;i++){
                            if(arr[i] instanceof Array){
                            num++;
                            arr = arr[i];
                            dimension(arr);
                        }
                    }
                return num;
            }
                        
            let arr = [100,["sec","div","li",[
                111,{animal:[
                    "å°ç‹—ä¸¹å°¼","å°ğŸè‹è¥¿","å¤§è±¡è‰¾ç±³è‰",[12,13,14]]},[20,[100,[399,12]]]
                ]],200]
            console.group(`å¤šç»´æ•°ç»„ï¼š`)
            console.log(arr.length)
            console.log(`å¤šç»´æ•°ç»„ï¼š` , dimension(arr))
            console.log(arr.flat(dimension(arr))) // [100, "sec", "div", "li", 111, {â€¦}, 20, 100, 399, 12, 200]
            console.groupEnd()
        }

        {
            let arrs = [1,5,"title","div",100]
            console.log("æ£€æµ‹æ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯å¦éƒ½ä¸ºæ•°å­—ï¼š ", arrs.every(item=>{return typeof item === "number"})) // false
            let arrs1 = ["jinshi","li","title","div","history"]
            console.log("æ£€æµ‹æ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯å¦éƒ½ä¸ºå­—ç¬¦ä¸²ï¼š ", arrs1.every(item=>{return typeof item === "string"})) // true
        }

    </script>
</body>
</html>