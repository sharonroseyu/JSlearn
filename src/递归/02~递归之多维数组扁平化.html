<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>递归  多维数组扁平化</title>
    <style>
        *{
            padding: 0; margin: 0; font-family: Arial, Helvetica, sans-serif;
        }
        #root{
            width: 800px; margin: 0 auto;
        }
        .sec .title{
            font-weight: normal; margin: 10px 0 ;
        }
        .sec .code{
            background-color: #333; color:#ccc; padding-top: 10px; font-size: 12px; line-height: 1.8em; letter-spacing:1px;
        }
    </style>
</head>
<body>
    
    <div id="root">
        <section class="sec">
            <h3 class="title">递归  reduce 方法 </h3>
            <pre class="code">
            {
                function flatten(arr){
                    return arr.reduce(function(prev,next){
                        return prev.concat(Array.isArray(next) ? flatten(next) : next)
                    },[])
                }
            }
            </pre>
        </section>

        <section class="sec">
            <h3 class="title">递归  for 循环方法 </h3>
            <pre class="code">
            {
                function flattenFor(arr){
                    let  res = [];
                    for(let i = 0 ; i < arr.length; i++){
                        if(Array.isArray(arr[i])){
                            res = res.concat(flattenFor(arr[i]))
                        }else{
                            res.push(arr[i])
                        }
                    }
                    return res;
                }
                console.log(`数组扁平化 ：`, flattenFor([1,4,7,[1,2,[3,7,8]]]))
            }
            </pre>
        </section>

        <section class="sec">
            <h3 class="title">递归 数组扁平化之toString() 方法 </h3>
            <pre class="code">
            {
                var arr = [1,3,6,[5,12,43,[45,12]]]
                console.log(`数组扁平化：`,arr.toString(arr))  //  1,3,6,5,12,43,45,12
            }
            </pre>
        </section>

  
    </div>

    <script>
        // 递归之数组扁平化
        // 方法一
        {
            function flatten(arr){
                return arr.reduce(function(prev,next){
                    return prev.concat(Array.isArray(next) ? flatten(next) : next)
                },[])
            }
        }

        // 方法二
        {
            function flattenFor(arr){
                let  res = [];
                for(let i = 0 ; i < arr.length; i++){
                    if(Array.isArray(arr[i])){
                        res = res.concat(flattenFor(arr[i]))
                    }else{
                        res.push(arr[i])
                    }
                }
                return res;
            }
            console.log(`数组扁平化 ：`, flattenFor([1,4,7,[1,2,[3,7,8]]]))
        }
        
        // 方法三 toString()
        {
            var arr = [1,3,6,[5,12,43,[45,12]]]
            console.log(`数组扁平化：`,arr.toString(arr))  //  1,3,6,5,12,43,45,12
        }
    
    </script>
</body>
</html>